- name: set up all homebrew repos
  community.general.homebrew_tap:
    name:
      - homebrew/bundle
      - homebrew/cask
      - homebrew/cask-versions
      - homebrew/core
      - homebrew/services
      - buildkite/buildkite
      - buildkite/cli
      - github/gh
      - heroku/brew
      - jesseduffield/lazydocker
      - nektos/tap
      - windmilleng/tap
    state: present
- name: install all packages
  community.general.homebrew:
    name:
      - adns
      - angle-grinder
      - autoconf
      - coreutils
      - libyaml
      - openssl@1.1
      - atk
      - bat
      - bats
      - binutils
      - burp
      - calc
      - ccls
      - clang-format
      - ctop
      - curl
      - libidn
      - curl-openssl
      - dnsmasq
      - docker-credential-helper-ecr
      - docker-machine
      - emscripten
      - fcrackzip
      - fd
      - ffmpeg
      - fswatch
      - fzf
      - git
      - git-lfs
      - libksba
      - npth
      - pinentry
      - gnupg
      - gnuplot
      - graphviz
      - hicolor-icon-theme
      - gtk+
      - htop
      - httpie
      - shared-mime-info
      - imagemagick
      - john-jumbo
      - oniguruma
      - jq
      - libiconv
      - libotr
      - libusb-compat
      - libuv
      - libvirt
      - luarocks
      - mitmproxy
      - mysql
      - ncdu
      - netcat
      - nmap
      - openvpn
      - optipng
      - tmux
      - overmind
      - p7zip
      - pass                      # Provides basic password management
      - pg_top                    # Provides postgresql top
      - pkg-config                # Dep of other packages
      - pstree
      - pth
      - pv
      - qemu
      - radare2
      - rename
      - ripgrep
      - ruby
      - s-lang
      - socat
      - squid
      - terraform
      - the_silver_searcher
      - thefuck
      - tldr
      - tor
      - transmission-cli
      - unicorn
      - watch
      - weechat
      - wget
      - yarn
      - yq
      - zsh
      - buildkite/buildkite/buildkite-agent
      - github/gh/gh
      - heroku/brew/heroku
      - jesseduffield/lazydocker/lazydocker
      - windmilleng/tap/tilt
- name: install casks
  community.general.homebrew_cask:
    name:
      - 1password-cli             # provides 1password credentials over CLI
      - android-platform-tools    # Provides AVD + adb
      - aws-vault                 # Provides AWS-Vault
      - burp-suite                # Burp Suite
      - cscreen                   # Provides a tool to configure monitors on Mac
      - discord
      - docker
      - gas-mask
      - google-chrome-canary
      - google-cloud-sdk
      - insomnia
      - karabiner-elements
      - keepassxc
      - ngrok
      - owasp-zap
      - postman
      - powershell
      - syncthing
      - tunnelblick               # OpenVPN GUI
      - visual-studio-code
      - vmware-fusion
  when: ansible_system == "Darwin"
